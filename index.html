<!DOCTYPE html>
<html>
<head>
    <title>GA visualization</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        color: white;
    }
    #canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjNDAzYzNmIj48L3JlY3Q+CjxwYXRoIGQ9Ik0wIDBMOCA4Wk04IDBMMCA4WiIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2U9IiMxZTI5MmQiPjwvcGF0aD4KPC9zdmc+");
      transform: translateZ(0);
    }
    body {
      padding: 0;
    }
    #panel {
      /*width: 20%;*/
      position: absolute;
      top: 3px;
      left: 3px;
    }
    #details {
        position: absolute;
        left: 3px;
        bottom: 3px;
    }
    #credits {
        position: absolute;
        right: 3px;
        bottom: 3px;
    }
    #credits a {
        color: white;
    }
    #info {
        font-size: 0.8em;
        color: rgb(199, 199, 199);
    }
    </style>
</head>
<body>
    <a href="https://github.com/lavrton/ga-vis"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>

    <div id='panel'>
      <section id="auth-button"></section>
      <section id="view-selector"></section>
      <section>
          Use faked data: <input type="checkbox" id="fake"></input>
          <div id="info">
              User colors:
              <span style="color: #e3935f">desktop</span>,
              <span style="color: #64bbe3">tablet</span>,
              <span style="color: #7ce267">mobile</span>.
              <br>
              Visualization shows realtime data.
              <br>
              Click on page (planet) to see more details.
              <br>
              To save analytics quota visualization update every 15 sec.
              <br>
              And after 5 min synchronization will be stopped.
              <br>
              Just refresh the page if you want to see more.
          </div>
      </section>
    </div>
    <div id="details">
    </div>
    <div id="credits">
        <div>
            Made by <a href="https://twitter.com/lavrton" target="_blank">@lavrton</a> for <a href="http://tbbt.co" target="_blank">http://tbbt.co</a>
        </div>
        <div>
            Using <a href="http://d3js.org/"  target="_blank">d3.js</a> (physics) and <a href="http://konvajs.github.io/"  target="_blank">Konva</a> (drawing)
        </div>
    </div>
    <div id="canvas"></div>

    <!-- google analytics API -->
    <script>
    (function(w,d,s,g,js,fjs){
      g=w.gapi||(w.gapi={});g.analytics={q:[],ready:function(cb){this.q.push(cb)}};
      js=d.createElement(s);fjs=d.getElementsByTagName(s)[0];
      js.src='https://apis.google.com/js/platform.js';
      fjs.parentNode.insertBefore(js,fjs);js.onload=function(){g.load('analytics')};
    }(window,document,'script'));
    </script>

    <!-- libs -->
    <!--
        You know, guys, all off this libs are HUGE overkill for such simple visualization.
        But who cares?
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" ></script>
    <script src="https://cdn.rawgit.com/konvajs/konva/0.9.5/konva.js"></script>

    <script src="./libs/lodash.min.js"></script>
    <script src="./libs/promise.min.js"></script>



    <!-- our app -->
    <script type="text/javascript" src="./src/vis.js"></script>
    <script type="text/javascript" src="./src/main.js"></script>
    <script type="text/javascript" src="./src/node.js"></script>
    <script type="text/javascript" src="./src/tests.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-54202824-1', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>
